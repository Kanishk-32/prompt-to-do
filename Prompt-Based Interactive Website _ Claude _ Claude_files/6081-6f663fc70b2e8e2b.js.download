try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e39b6c45-8148-45a5-8d5f-e02f97640180",e._sentryDebugIdIdentifier="sentry-dbid-e39b6c45-8148-45a5-8d5f-e02f97640180")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6081],{14072:(e,t,n)=>{n.d(t,{E:()=>c});var a=n(35313),i=n(26768),r=n(80773),o=n(20591),s=n.n(o);let c=e=>{let{conversationId:t="default",enableV2:n=!1}=e||{},o=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{...((e,t)=>({prompt:"",tipTapEditorState:r.rE,setPrompt:function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{forceUpdateTiptap:i=!0,unsafe:r=!1}=a;if(e({prompt:n}),!0===i){var o;let e=t().promptInputRef;null==e||null==(o=e.current)||o.setContent(n)}},setTipTapEditorState:t=>{e({tipTapEditorState:t})}}))(...t),...((e,t)=>({attachments:[],files:[],syncSourceUuids:[],transitionFiles:[],setAttachments:n=>{e({attachments:"function"==typeof n?n(t().attachments):n})},setFiles:n=>{e({files:"function"==typeof n?n(t().files):n})},setSyncSourceUuids:n=>{e({syncSourceUuids:"function"==typeof n?n(t().syncSourceUuids):n})},setTransitionFiles:t=>{e({transitionFiles:t})}}))(...t),...(e=>({model:"",projectUuid:void 0,beamChatUuid:void 0,isNewBeamChat:!1,pendingConversationSettings:{},conversation:void 0,setModel:t=>e({model:t}),setProjectUuid:t=>e({projectUuid:t}),setBeamChatUuid:t=>e({beamChatUuid:t}),setIsNewBeamChat:t=>e({isNewBeamChat:t}),setPendingConversationSettings:t=>e(e=>({pendingConversationSettings:{...e.pendingConversationSettings,...t}})),setConversation:t=>e({conversation:t})}))(...t),...(e=>({previewPrompt:void 0,isModelSelectorOpen:!1,hasBlockingWarning:!1,personalizedStyle:void 0,includeProfilePreferences:!0,currentCompassTask:void 0,setPreviewPrompt:t=>e({previewPrompt:t}),setIsModelSelectorOpen:t=>e({isModelSelectorOpen:t}),setHasBlockingWarning:t=>e({hasBlockingWarning:t}),setPersonalizedStyle:t=>e({personalizedStyle:t}),setIncludeProfilePreferences:t=>e({includeProfilePreferences:t}),setCurrentCompassTask:t=>e({currentCompassTask:t})}))(...t),...(e=>({isUploadingFile:!1,isUploadingDriveSync:!1,isUploadingGithubSync:!1,setIsUploadingFile:t=>e({isUploadingFile:t}),setIsUploadingDriveSync:t=>e({isUploadingDriveSync:t}),setIsUploadingGithubSync:t=>e({isUploadingGithubSync:t})}))(...t),...(e=>({isSending:!1,isImprovingPrompt:!1,setIsSending:t=>e({isSending:t}),setIsImprovingPrompt:t=>e({isImprovingPrompt:t})}))(...t),...(()=>({isAtMaxNumUploads:!1,hasAttachments:!1,isChatSyncing:!1,isProjectSyncing:!1,isNewConversation:!1,isProjectLocked:!1,willRedirectOnSubmit:!1}))(...t),...(()=>({sendMessage:void 0,sendTransparentMessage:void 0,stopSampling:void 0,focusInput:void 0,improvePrompt:void 0,validateMaxUploadLimit:void 0,onDrop:void 0,onPasteFiles:void 0,handleUpload:void 0,uploadInputProps:void 0}))(...t),...(e=>({promptInputRef:void 0,setPromptInputRef:t=>e({promptInputRef:t})}))(...t)}};if(n){let e=function(){var e,t,n;let a=null!=(n=null==(e=(t=crypto).randomUUID)?void 0:e.call(t))?n:"v2-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2)),i=s()((e,t)=>{let n=t.state,i=Date.now();if(void 0!==n.tipTapEditorState){let t={value:n.tipTapEditorState||{},tabId:a,timestamp:i};localStorage.setItem("LSS-".concat(e,":textInput"),JSON.stringify(t))}if(void 0!==n.attachments){let t={value:n.attachments||[],tabId:a,timestamp:i};localStorage.setItem("LSS-".concat(e,":attachment"),JSON.stringify(t))}if(void 0!==n.files){let t={value:n.files||[],tabId:a,timestamp:i};localStorage.setItem("LSS-".concat(e,":files"),JSON.stringify(t))}if(void 0!==n.syncSourceUuids){let t={value:n.syncSourceUuids||[],tabId:a,timestamp:i};localStorage.setItem("LSS-".concat(e,":syncSourceUuids"),JSON.stringify(t))}},500,{maxWait:2e3});return{getItem:e=>{try{let t={},n=localStorage.getItem("LSS-".concat(e,":textInput"));if(n){let e=JSON.parse(n);e.value&&"object"==typeof e.value&&"type"in e.value&&(t.tipTapEditorState=e.value)}let a=localStorage.getItem("LSS-".concat(e,":attachment"));if(a){let e=JSON.parse(a);Array.isArray(e.value)&&(t.attachments=e.value)}let i=localStorage.getItem("LSS-".concat(e,":files"));if(i){let e=JSON.parse(i);Array.isArray(e.value)&&(t.files=e.value)}let r=localStorage.getItem("LSS-".concat(e,":syncSourceUuids"));if(r){let e=JSON.parse(r);Array.isArray(e.value)&&(t.syncSourceUuids=e.value)}if(Object.keys(t).length>0)return{state:t,version:0};return null}catch(e){return null}},setItem:(e,t)=>{i(e,t)},removeItem:e=>{i.cancel(),localStorage.removeItem("LSS-".concat(e,":textInput")),localStorage.removeItem("LSS-".concat(e,":attachment")),localStorage.removeItem("LSS-".concat(e,":files")),localStorage.removeItem("LSS-".concat(e,":syncSourceUuids"))},subscribe:e=>t=>{let n=n=>{if(n.storageArea===localStorage&&n.key&&n.key.startsWith("LSS-".concat(e,":"))&&n.newValue)try{JSON.parse(n.newValue).tabId!==a&&t()}catch(e){t()}};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}}}}(),n=(0,i.y)()((0,a.eh)((0,a.Zr)(o,{name:t,storage:e,partialize:e=>({tipTapEditorState:e.tipTapEditorState,attachments:e.attachments,files:e.files,syncSourceUuids:e.syncSourceUuids})})));return e.subscribe?{store:n,unsubscribe:e.subscribe(t)(()=>{})}:{store:n}}return{store:(0,i.y)()((0,a.eh)(o))}}},32442:(e,t,n)=>{function a(e){let t=e,n="",a=0;for(;t!==n&&a<10;)n=t,t=(t=(t=(t=t.normalize("NFKC")).replace(RegExp("[\\p{Cf}\\p{Co}\\p{Cn}]","gu"),"")).replace(RegExp("[\\p{Cc}]","gu"),e=>"\n"===e||"	"===e||"\r"===e?e:"")).replace(/[\u200B-\u200F]/g,"").replace(/[\u202A-\u202E]/g,"").replace(/[\u2066-\u2069]/g,"").replace(/[\uFEFF]/g,"").replace(/[\uE000-\uF8FF]/g,""),a++;if(a>=10)throw Error("Unicode sanitization reached maximum iterations (".concat(10,") for input: ").concat(e.slice(0,100)));return t}n.d(t,{M:()=>function e(t){if("string"==typeof t)return a(t);if(Array.isArray(t))return t.map(e);if(null!==t&&"object"==typeof t){let n={};for(let[a,i]of Object.entries(t))n[e(a)]=e(i);return n}return t},P:()=>a})},65903:(e,t,n)=>{n.d(t,{X:()=>i});var a=n(27062);let i=()=>(0,a.fS)("v2_prompt_storage").value||!1},74530:(e,t,n)=>{function a(e){return"text"===e.type&&e.text?{...e,text:e.text.replace("​","")}:e.content?{...e,content:e.content.map(a)}:e}n.d(t,{DV:()=>a,h0:()=>i});let i=e=>{let t="",n=0,a=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("doc"===e.type&&e.content)for(let t of e.content)a(t);else if("paragraph"===e.type){if(e.content)for(let t of e.content)a(t);t+="\n"}else if("text"===e.type){let n=e.text;if(e.marks)for(let t of e.marks)"bold"===t.type?n="**".concat(n,"**"):"italic"===t.type?n="*".concat(n,"*"):"underline"===t.type?n="__".concat(n,"__"):"strike"===t.type?n="~~".concat(n,"~~"):"code"===t.type&&(n="`".concat(n,"`"));t+=n}else if("codeBlock"===e.type){let n=e.attrs&&"string"==typeof e.attrs.language?e.attrs.language:"";if(t+="\n```".concat(n,"\n"),e.content)for(let t of e.content)a(t);t+="\n```\n\n"}else if("bulletList"===e.type&&e.content)for(let t of e.content)a(t);else if("orderedList"===e.type&&e.content)for(let t=0;t<e.content.length;t++)a(e.content[t],t+1,!0);else if("listItem"===e.type&&e.content){let o="   ".repeat(n);for(let s of(r?t+="".concat(o).concat(i,". "):t+="".concat(o,"* "),e.content))n+=1,a(s),n-=1}};return a(e),t.replace("​","").trim()}},77101:(e,t,n)=>{n.d(t,{I5:()=>r,sb:()=>i,v8:()=>a,xj:()=>o});var a=function(e){return e.GITHUB="github",e.GDRIVE="gdrive",e.OUTLINE="outlin",e.SALESFORCE="sfdc",e.GMAIL="gmail",e.GCAL="gcal",e.SLACK="slack",e.ASANA="asana",e.CANVAS="canvas",e.FIDDLEHEAD="fiddlehead",e.CUTTLEFISH="cuttlefish",e}({});let i={github:"GitHub",gdrive:"Google Drive",outlin:"Outline",sfdc:"Salesforce",gmail:"Gmail",gcal:"Google Calendar",slack:"Slack",asana:"Asana",canvas:"Canvas",fiddlehead:"Fiddlehead",cuttlefish:"Cuttlefish"};var r=function(e){return e.CREATED="created",e.PENDING="pending",e.FAILED="failed",e.UPDATING="updating",e.UPDATE_FAILED="update_failed",e.READY="ready",e.UNAUTHENTICATED="unauthenticated",e.ACCESS_DENIED="access_denied",e.DISABLED="disabled",e}({});let o=["access_denied","failed","unauthenticated","update_failed"]},80773:(e,t,n)=>{n.d(t,{LM:()=>y,jI:()=>p,rE:()=>u});var a=n(74530),i=n(46127),r=n(32442),o=n(7620),s=n(13368),c=n(98736),l=n(65903);let u={type:"doc",content:[{type:"paragraph",content:[]}]},d=(e,t)=>"".concat(e?"".concat(e,":"):"").concat(t);function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,p=arguments.length>3?arguments[3]:void 0,f=(0,l.X)(),g=(0,s.P)(n,(0,c.k)(e=>({tipTapEditorState:e.tipTapEditorState||u,setTipTapEditorState:e.setTipTapEditorState}))),S=d(p,e),[y,v,m]=(0,i.Vc)("".concat(S,":textInput"),t?{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:t}]}]}:u,!f),h=f?g.tipTapEditorState:y,I=(0,o.useRef)(h),_=(0,o.useRef)(!1);(0,o.useEffect)(()=>{if(!f&&!_.current){let e=I.current?(0,a.h0)(I.current):"";n.getState().setPrompt(e,{forceUpdateTiptap:!1}),_.current=!0}},[n,f]);let E=(0,o.useCallback)(e=>{if(f)n.getState().setTipTapEditorState(e);else{let t=(0,a.h0)(e);v(e),n.getState().setPrompt(t,{forceUpdateTiptap:!1})}},[v,n,f]),C=(0,o.useCallback)((e,t)=>{let n=(0,r.P)(e),a={type:"doc",content:[{type:"paragraph",content:n?[{type:"text",text:n}]:[]}]};return n.length>0&&t&&(a.__ant_unsafe=!0),E(a),n},[E]),U=!0===h.__ant_unsafe,b=(0,o.useCallback)(e=>{let t=(0,a.h0)(e);return t.length>0&&U&&(e.__ant_unsafe=!0),E(e),t},[E,U]),A=(0,o.useCallback)(()=>{f?n.getState().setTipTapEditorState(u):m()},[f,n,m]);return{setPrompt:(0,o.useCallback)(function(e){let{forceUpdateTiptap:t=!0,unsafe:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(f)n.getState().setPrompt(e,{forceUpdateTiptap:!1});else{let i=C(e,a);n.getState().setPrompt(i,{forceUpdateTiptap:t,unsafe:a})}},[C,n,f]),tipTapEditorState:h,setTipTapEditorJSON:b,setTipTapEditorText:C,setTipTapEditorState:E,isTipTapEditorStateUnsafe:U,clear:A}}let f=[],g=[],S=[];function y(e,t,n){let a=(0,l.X)(),r=(0,s.P)(t,(0,c.k)(e=>({attachments:e.attachments,setAttachments:e.setAttachments,files:e.files,setFiles:e.setFiles,syncSourceUuids:e.syncSourceUuids,setSyncSourceUuids:e.setSyncSourceUuids}))),u=d(n,e),[p,y,v]=(0,i.Vc)("".concat(u,":attachment"),f,!a),[m,h,I]=(0,i.Vc)("".concat(u,":files"),g,!a),[_,E,C]=(0,i.Vc)("".concat(u,":syncSourceUuids"),S,!a),U=a?r.attachments:p,b=a?r.setAttachments:y,A=a?r.files:m,P=a?r.setFiles:h,T=a?r.syncSourceUuids:_;return{attachments:U,setAttachments:b,files:A,setFiles:P,syncSourceUuids:T,setSyncSourceUuids:a?r.setSyncSourceUuids:E,clear:(0,o.useCallback)(()=>{a?(r.setAttachments([]),r.setFiles([]),r.setSyncSourceUuids([])):(v(),I(),C())},[a,r,v,I,C])}}},91768:(e,t,n)=>{n.d(t,{Dd:()=>b,FZ:()=>E,LN:()=>h,X0:()=>D,XE:()=>T,Ys:()=>L,dH:()=>C,eL:()=>A,fe:()=>N,ob:()=>k,ph:()=>_,tS:()=>m,xc:()=>I,z3:()=>U});var a=n(68096),i=n(77186),r=n(1761),o=n(69916),s=n(29585),c=n(71473),l=n(27062),u=n(77101),d=n(90119),p=n(21036),f=n(87606),g=n(62942),S=n(7620),y=n(46760),v=n(40459);let m=e=>e.type===u.v8.GITHUB?{sync_source_type:u.v8.GITHUB,sync_source_config:e.config}:e.type===u.v8.GDRIVE?{sync_source_type:u.v8.GDRIVE,sync_source_config:e.config}:null,h=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid;return(0,i.Sk)("/api/organizations/".concat(t,"/sync/settings"),{queryKey:[c._V,{orgUUID:t}],enabled:!!e})},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,a=(0,f.useQueryClient)();return(0,i.Qv)("/api/organizations/".concat(n,"/sync/settings"),"PUT",(e,t)=>{let{type:n,enabled:a}=e;t||(t=[]);let i=t.map(e=>e.type===n?{...e,enabled:a}:e);return i.some(e=>e.type===n)?i:[...t,{type:n,enabled:a}]},{queryKey:[c._V,{orgUUID:n}],enabled:!!t,onSuccess:async function(){for(var t,i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];await a.invalidateQueries({queryKey:[c._V,{orgUUID:n}]}),await (null==(t=e.onSuccess)?void 0:t.call(e,...r))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,a=(0,f.useQueryClient)(),{value:o}=(0,l.fS)("kingfisher_enabled"),{value:s}=(0,l.fS)("apps_use_bananagrams"),u=(0,p.useLayer)("trials_freemium").get("free_integrations",!1);return(0,i.Qv)("/api/organizations/".concat(n,"/sync/settings/config"),"POST",(e,t)=>{let{type:n,config:a}=e;return t||(t=[]),t.map(e=>e.type===n?{...e,config:{...e.config,...a}}:e)},{queryKey:[c._V,{orgUUID:n}],enabled:!!(t&&(o||u)&&s),onSuccess:async function(){for(var t,i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];await a.invalidateQueries({queryKey:[c._V,{orgUUID:n}]}),await (null==(t=e.onSuccess)?void 0:t.call(e,...r))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},E=e=>{let{callerIdentifier:t,successParam:n,handleOpen:a}=e,i=(0,g.useSearchParams)(),r=(0,S.useRef)(!1);(0,S.useEffect)(()=>{!i.has(n)||r.current||t&&t!==i.get(n)||(r.current=!0,((e,t)=>{let n=new URLSearchParams(Array.from(t.entries()));n.delete(e);let a=n.toString()?"?".concat(n.toString()):"",i=window.location.pathname+a;window.history.replaceState({...window.history.state,as:i,url:i},"",i)})(n,i),a())},[i,t,a,n])},C=e=>{let{pathname:t,searchParams:n,queryString:a,isClaudeApp:i}=e,r="".concat(t,"?").concat(a),o=n.get("origin");if(o)r=o;else if(i){let e=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i,n=t.startsWith("/project/")&&e.test(t.slice(9)),i=t.startsWith("/chat/")&&e.test(t.slice(6)),o=n||i||"/new"===t?t:"/new";r="claude://claude.ai".concat(o,"?").concat(a)}return r},U=e=>{let t;return t=e.status.state,[u.I5.CREATED,u.I5.PENDING,u.I5.UPDATING].includes(t)},b=e=>[u.I5.FAILED,u.I5.UPDATE_FAILED].includes(e.status.state),A=()=>{let{addError:e}=(0,o.Y)(),t=(0,f.useQueryClient)();return(n,a)=>{(e=>{if(e instanceof s.LG)return e instanceof s.LG&&"access_denied"===e.errorCode})(n)&&(e("Please try again. You may need to reconnect with your ".concat(u.sb[a.sync_source_type]," account."),{error:n}),c.ku.forEach(e=>{t.invalidateQueries({queryKey:[e]})}),t.invalidateQueries({queryKey:[c.GC]}))}},P={[u.v8.GCAL]:"enabled_foccacia",[u.v8.GMAIL]:"enabled_sourdough"},T=e=>{let t=e===u.v8.GCAL||e===u.v8.GMAIL?"pumpernickel_enabled":"cinnabon_enabled",{value:n}=(0,l.fS)(t),a=(0,p.useLayer)("trials_freemium").get("free_integrations",!1),i=n||(e===u.v8.GCAL||e===u.v8.GMAIL)&&a;return!v.env.NEXT_PUBLIC_DISABLE_INTEGRATIONS&&i},L=e=>{let t=(e=>{let t=(0,r.mV)(),{data:n}=h(),a=!!(Array.isArray(n)&&n.find(t=>t.type===e&&t.enabled));return!t||a})(e);return!!(T(e)&&t)},w=e=>"sfdc"===e?"salesforce":e,k=function(e){let{callerIdentifier:t,handleAuthSuccess:n,pathname:a,queryString:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:c}=(0,r.YL)(),l=null==c?void 0:c.uuid,p=(0,g.usePathname)(),v=(0,g.useSearchParams)(),{addSuccess:m}=(0,o.Y)(),h=(0,y.A)(),I=L(e),_=(0,f.useQueryClient)(),U=(0,d.V)(),{data:b,isFetched:A}=(0,i.Sk)("/api/organizations/".concat(l,"/sync/").concat(w(e),"/auth"),{queryKey:["sync_".concat(e,"_auth_status"),{orgUUID:l}],enabled:!!(c&&I)}),P=(0,S.useRef)(!1),{mutate:T}=(0,i.L2)("/api/organizations/".concat(l,"/sync/").concat(w(e),"/auth/start"),"POST",{enabled:!!(c&&I),onSuccess:e=>{window.location.href=e.redirect_url}});E({callerIdentifier:t,successParam:"".concat(e,"_success"),handleOpen:()=>{m(h.formatMessage({defaultMessage:"Successfully connected to {integrationName}",id:"T7cL93l/KQ"},{integrationName:u.sb[e]})),null==n||n(!0)}});let{mutate:k}=(0,i.L2)("/api/organizations/".concat(l,"/sync/").concat(w(e),"/auth"),"DELETE",{enabled:!!(c&&I),onSuccess:()=>{_.invalidateQueries({queryKey:["sync_".concat(e,"_auth_status"),{orgUUID:l}]})}});return{isAuthenticated:I&&!!(null==b?void 0:b.is_authenticated),startAuth:()=>{if(!P.current&&I){let n=C({pathname:a||p,searchParams:v,queryString:"".concat(e,"_success=").concat(t).concat(s?"&".concat(s):""),isClaudeApp:U});if(U){window.location.href="/settings/connectors?open_in_browser=1&auth_start=".concat(e,"&origin=").concat(n);return}P.current=!0,T({pre_auth_state:{origin:n},redirect_uri:new URL("/connect/".concat(w(e),"/callback"),window.location.origin).toString()})}},disconnect:k,isFetched:A}},D=(e,t)=>{var n,a;let i=L(e),{account:o}=(0,r.YL)(),s=P[e];return s?i&&(t?!!(null==t||null==(n=t.conversationSettings)?void 0:n[s]):!!(null==o||null==(a=o.settings)?void 0:a[s])):i},N=()=>{let{account:e}=(0,r.YL)(),{mutate:t}=(0,a.Jy)();return{toggleIntegrationEnabled:(n,a)=>{if(!e)return;let i=P[n];i&&t({...e.settings,[i]:a})}}}},93770:(e,t,n)=>{n.d(t,{Fj:()=>m,Oh:()=>S,QN:()=>_,QT:()=>y,Tc:()=>h,jM:()=>f,jw:()=>v,lE:()=>I,tM:()=>g});var a=n(74530),i=n(7620),r=n(13368),o=n(98736),s=n(14072),c=n(65903);let l=i.createContext(null),u=null;function d(e,t){let n=i.useContext(l)||(u||({store:u}=(0,s.E)()),u);return(0,r.P)(n,(0,o.k)(e))}function p(e){let t=function(){let e=i.useContext(l);if(!e)throw Error("ChatInputStore not found. Make sure ChatInputProvider wraps your component.");return e}();return(0,r.P)(t,(0,o.k)(e))}let f=l.Provider,g=()=>p(e=>({isAtMaxNumUploads:e.isAtMaxNumUploads,hasAttachments:e.hasAttachments,isChatSyncing:e.isChatSyncing,isProjectSyncing:e.isProjectSyncing,isNewConversation:e.isNewConversation,isProjectLocked:e.isProjectLocked,willRedirectOnSubmit:e.willRedirectOnSubmit})),S=(e,t)=>{if(!t)return{prompt:e.prompt,tipTapEditorState:e.tipTapEditorState,isPromptUnsafe:!1};let n=e.tipTapEditorState;return{prompt:(0,a.h0)(n),tipTapEditorState:n,isPromptUnsafe:"__ant_unsafe"in n&&!!n.__ant_unsafe}},y=()=>{let e=(0,c.X)();return p(t=>S(t,e))},v=()=>{let e=i.useContext(l),t=d(e=>e.conversation,"useChatInputConversationOnly");return e?t:void 0},m=()=>d(e=>({pendingConversationSettings:e.pendingConversationSettings,setPendingConversationSettings:e.setPendingConversationSettings}),"useChatInputPendingConversationSettings");function h(e,t){return d(e,t)}let I=()=>d(e=>({syncSourceUuids:e.syncSourceUuids,setSyncSourceUuids:e.setSyncSourceUuids,projectUuid:e.projectUuid,conversation:e.conversation}),"useChatInputSync"),_=()=>d(e=>e.projectUuid,"useChatInputProjectUuid")}}]);